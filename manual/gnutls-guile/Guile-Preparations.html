<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is last updated 16 March 2016 for version
3.5.1 of GnuTLS.

Copyright (C) 2001-2012, 2014, 2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License". -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GnuTLS-Guile 3.5.1: Guile Preparations</title>

<meta name="description" content="GnuTLS-Guile 3.5.1: Guile Preparations">
<meta name="keywords" content="GnuTLS-Guile 3.5.1: Guile Preparations">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Procedure-Index.html#Procedure-Index" rel="index" title="Procedure Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html#Top" rel="up" title="Top">
<link href="Guile-API-Conventions.html#Guile-API-Conventions" rel="next" title="Guile API Conventions">
<link href="Preface.html#Preface" rel="prev" title="Preface">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body { 
	margin: 2%;
	padding: 0 5%;
	background: #ffffff;
}
h1,h2,h3,h4,h5 {
    font-weight: bold;
    padding: 5px 5px 5px 5px;
    background-color: #c2e0ff;
    color: #336699;
}
h1 {
    padding: 2em 2em 2em 5%;
    color: white;
    background: #336699;
    text-align: center;
    letter-spacing: 3px;
}
h2 { text-decoration: underline; }
pre {
  margin: 0 5%;
  padding: 0.5em;
}
pre.example,pre.verbatim {
  padding-bottom: 1em;

  border: solid #c2e0ff;
  background: #f0faff;
  border-width: 1px 1px 1px 5px;
  margin: 1em auto;
  width: 90%;
}

div.node {
  margin: 0 -5% 0 -2%;
  padding: 0.5em 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-weight: bold;
}
dd, li {
  padding-top: 0.1em;
  padding-bottom: 0.1em;
}
div.float {

  margin-bottom: 0.5em;
  text-align: center;
}

table {
  text-align: left;
  margin-left:auto;
  margin-right:auto;
  border-spacing: 7px;
  width: 50%;
}

th {
  padding: 0;
  color: #336699;
  background-color: #c2e0ff;
  border: solid #000000;
  border-width: 0px;
  margin: 1em auto;
  text-align: center;
  margin-left:auto;
  margin-right:auto;
}

td {
  padding: 0;
  border: solid #000000;
  background-color: #f0faff;
  border-width: 0px;
  margin: 1em auto;
  text-align: left;
  margin-left:auto;
  margin-right:auto;
  padding-left: 1em;
}

dl {
  text-align: left;
  margin-left:auto;
  margin-right:auto;
  width: 50%;

  padding-left: 1em;
  border: solid #c2e0ff;
  background: #f0faff;
  border-width: 5px 1px 1px 1px;
  margin: 1em auto;
}

-->
</style>


</head>

<body lang="en">
<a name="Guile-Preparations"></a>
<div class="header">
<p>
Next: <a href="Guile-API-Conventions.html#Guile-API-Conventions" accesskey="n" rel="next">Guile API Conventions</a>, Previous: <a href="Preface.html#Preface" accesskey="p" rel="prev">Preface</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Procedure-Index.html#Procedure-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Guile-Preparations-1"></a>
<h2 class="chapter">2 Guile Preparations</h2>

<p>The GnuTLS Guile bindings are available for Guile&rsquo;s 2.0 stable series,
as well as the forthcoming 2.2 series and the legacy 1.8 series.
</p>
<p>By default they are installed under the GnuTLS installation directory,
typically <samp>/usr/local/share/guile/site/</samp>).  Normally Guile
will not find the module there without help.  You may experience
something like this:
</p>
<div class="example">
<pre class="example">$ guile
&hellip;
scheme@(guile-user)&gt; (use-modules (gnutls))
ERROR: no code for module (gnutls)
</pre></div>

<p>There are two ways to solve this.  The first is to make sure that when
building GnuTLS, the Guile bindings will be installed in the same
place where Guile looks.  You may do this by using the
<code>--with-guile-site-dir</code> parameter as follows:
</p>
<div class="example">
<pre class="example">$ ./configure --with-guile-site-dir=no
</pre></div>

<p>This will instruct GnuTLS to attempt to install the Guile bindings
where Guile will look for them.  It will use <code>guile-config info
pkgdatadir</code> to learn the path to use.
</p>
<p>If Guile was installed into <code>/usr</code>, you may also install GnuTLS
using the same prefix:
</p>
<div class="example">
<pre class="example">$ ./configure --prefix=/usr
</pre></div>

<p>If you want to specify the path to install the Guile bindings you can
also specify the path directly:
</p>
<div class="example">
<pre class="example">$ ./configure --with-guile-site-dir=/opt/guile/share/guile/site
</pre></div>

<p>The second solution requires some more work but may be easier to use
if you do not have system administrator rights to your machine.  You
need to instruct Guile so that it finds the GnuTLS Guile bindings.
Either use the <code>GUILE_LOAD_PATH</code> environment variable as follows:
</p>
<div class="example">
<pre class="example">$ GUILE_LOAD_PATH=&quot;/usr/local/share/guile/site:$GUILE_LOAD_PATH&quot; guile
scheme@(guile-user)&gt; (use-modules (gnutls))
scheme@(guile-user)&gt;
</pre></div>

<p>Alternatively, you can modify Guile&rsquo;s <code>%load-path</code> variable
(see <a href="http://www.gnu.org/software/guile/manual/html_node/Build-Config.html#Build-Config">Guile&rsquo;s run-time options</a> in <cite>The GNU Guile
Reference Manual</cite>).
</p>
<p>At this point, you might get an error regarding
<samp>guile-gnutls-v-2</samp> similar to:
</p>
<div class="example">
<pre class="example">gnutls.scm:361:1: In procedure dynamic-link in expression (load-extension &quot;guile-gnutls-v-2&quot; &quot;scm_init_gnutls&quot;):
gnutls.scm:361:1: file: &quot;guile-gnutls-v-2&quot;, message: &quot;guile-gnutls-v-2.so: cannot open shared object file: No such file or directory&quot;
</pre></div>

<p>In this case, you will need to modify the run-time linker path, for
example as follows:
</p>
<div class="example">
<pre class="example">$ LD_LIBRARY_PATH=/usr/local/lib GUILE_LOAD_PATH=/usr/local/share/guile/site guile
scheme@(guile-user)&gt; (use-modules (gnutls))
scheme@(guile-user)&gt;
</pre></div>

<p>To check that you got the intended GnuTLS library version, you may
print the version number of the loaded library as follows:
</p>
<div class="example">
<pre class="example">$ guile
scheme@(guile-user)&gt; (use-modules (gnutls))
scheme@(guile-user)&gt; (gnutls-version)
&quot;3.5.1&quot;
scheme@(guile-user)&gt;
</pre></div>


<hr>
<div class="header">
<p>
Next: <a href="Guile-API-Conventions.html#Guile-API-Conventions" accesskey="n" rel="next">Guile API Conventions</a>, Previous: <a href="Preface.html#Preface" accesskey="p" rel="prev">Preface</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Procedure-Index.html#Procedure-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
